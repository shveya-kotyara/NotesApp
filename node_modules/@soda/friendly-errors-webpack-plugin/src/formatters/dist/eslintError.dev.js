'use strict';

var concat = require('../utils').concat;

var chalk = require('chalk');

var infos = ['You may use special comments to disable some warnings.', 'Use ' + chalk.yellow('// eslint-disable-next-line') + ' to ignore the next line.', 'Use ' + chalk.yellow('/* eslint-disable */') + ' to ignore all warnings in a file.'];

function displayError(error) {
  return [error.message, ''];
}

function format(errors, type) {
  var lintErrors = errors.filter(function (e) {
    return e.type === 'lint-error';
  });

  if (lintErrors.length > 0) {
    var flatten = function flatten(accum, curr) {
      return accum.concat(curr);
    };

    return concat(lintErrors.map(function (error) {
      return displayError(error);
    }).reduce(flatten, []), infos);
  }

  return [];
}

module.exports = format;