'use strict';

var signals = ['SIGINT', 'SIGTERM'];

function setupExitSignals(serverData) {
  signals.forEach(function (signal) {
    process.on(signal, function () {
      if (serverData && serverData.server) {
        serverData.server.close(function () {
          // eslint-disable-next-line no-process-exit
          process.exit();
        });
      } else {
        // eslint-disable-next-line no-process-exit
        process.exit();
      }
    });
  });
}

module.exports = setupExitSignals;