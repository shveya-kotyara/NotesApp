#!/usr/bin/env node
"use strict";

var _require = require('@vue/cli-shared-utils'),
    semver = _require.semver,
    error = _require.error;

var requiredVersion = require('../package.json').engines.node;

if (!semver.satisfies(process.version, requiredVersion, {
  includePrerelease: true
})) {
  error("You are using Node ".concat(process.version, ", but vue-cli-service ") + "requires Node ".concat(requiredVersion, ".\nPlease upgrade your Node version."));
  process.exit(1);
}

var Service = require('../lib/Service');

var service = new Service(process.env.VUE_CLI_CONTEXT || process.cwd());
var rawArgv = process.argv.slice(2);

var args = require('minimist')(rawArgv, {
  "boolean": [// build
  'modern', 'report', 'report-json', 'inline-vue', 'watch', // serve
  'open', 'copy', 'https', // inspect
  'verbose']
});

var command = args._[0];
service.run(command, args, rawArgv)["catch"](function (err) {
  error(err);
  process.exit(1);
});