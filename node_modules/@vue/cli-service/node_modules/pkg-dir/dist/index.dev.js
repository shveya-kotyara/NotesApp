'use strict';

var path = require('path');

var findUp = require('find-up');

var pkgDir = function pkgDir(cwd) {
  var filePath;
  return regeneratorRuntime.async(function pkgDir$(_context) {
    while (1) {
      switch (_context.prev = _context.next) {
        case 0:
          _context.next = 2;
          return regeneratorRuntime.awrap(findUp('package.json', {
            cwd: cwd
          }));

        case 2:
          filePath = _context.sent;
          return _context.abrupt("return", filePath && path.dirname(filePath));

        case 4:
        case "end":
          return _context.stop();
      }
    }
  });
};

module.exports = pkgDir; // TODO: Remove this for the next major release

module.exports["default"] = pkgDir;

module.exports.sync = function (cwd) {
  var filePath = findUp.sync('package.json', {
    cwd: cwd
  });
  return filePath && path.dirname(filePath);
};