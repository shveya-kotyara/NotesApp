"use strict";

var _require = require('@vue/cli-shared-utils'),
    chalk = _require.chalk;

module.exports = function (api) {
  api.transformScript('babel.config.js', require('../codemods/usePluginPreset'));

  if (api.fromVersion('^3')) {
    api.extendPackage({
      dependencies: {
        'core-js': '^3.6.5'
      }
    }, {
      warnIncompatibleVersions: false
    }); // TODO: implement a codemod to migrate polyfills

    api.exitLog("core-js has been upgraded from v2 to v3.\nIf you have any custom polyfills defined in ".concat(chalk.yellow('babel.config.js'), ", please be aware their names may have been changed.\nFor more complete changelog, see https://github.com/zloirock/core-js/blob/master/CHANGELOG.md#300---20190319"));
  }
};