"use strict";

module.exports = function (fileInfo, api) {
  var j = api.jscodeshift;
  var root = j(fileInfo.source);
  var useDoubleQuote = root.find(j.Literal).some(function (_ref) {
    var node = _ref.node;
    return node.raw.startsWith('"');
  });
  root.find(j.Literal, {
    value: '@vue/app'
  }).replaceWith(j.stringLiteral('@vue/cli-plugin-babel/preset'));
  root.find(j.Literal, {
    value: '@vue/babel-preset-app'
  }).replaceWith(j.stringLiteral('@vue/cli-plugin-babel/preset'));
  var templateLiterals = root.find(j.TemplateLiteral, {
    expressions: {
      length: 0
    }
  });
  templateLiterals.find(j.TemplateElement, {
    value: {
      cooked: '@vue/app'
    }
  }).closest(j.TemplateLiteral).replaceWith(j.stringLiteral('@vue/cli-plugin-babel/preset'));
  templateLiterals.find(j.TemplateElement, {
    value: {
      cooked: '@vue/babel-preset-app'
    }
  }).closest(j.TemplateLiteral).replaceWith(j.stringLiteral('@vue/cli-plugin-babel/preset'));
  return root.toSource({
    lineTerminator: '\n',
    quote: useDoubleQuote ? 'double' : 'single'
  });
};