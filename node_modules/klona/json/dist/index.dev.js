"use strict";

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function klona(val) {
  var k, out, tmp;

  if (Array.isArray(val)) {
    out = Array(k = val.length);

    while (k--) {
      out[k] = (tmp = val[k]) && _typeof(tmp) === 'object' ? klona(tmp) : tmp;
    }

    return out;
  }

  if (Object.prototype.toString.call(val) === '[object Object]') {
    out = {}; // null

    for (k in val) {
      if (k === '__proto__') {
        Object.defineProperty(out, k, {
          value: klona(val[k]),
          configurable: true,
          enumerable: true,
          writable: true
        });
      } else {
        out[k] = (tmp = val[k]) && _typeof(tmp) === 'object' ? klona(tmp) : tmp;
      }
    }

    return out;
  }

  return val;
}

exports.klona = klona;