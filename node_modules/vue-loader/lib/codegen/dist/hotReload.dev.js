"use strict";

var hotReloadAPIPath = JSON.stringify(require.resolve('vue-hot-reload-api'));

var genTemplateHotReloadCode = function genTemplateHotReloadCode(id, request) {
  return "\n    module.hot.accept(".concat(request, ", function () {\n      api.rerender('").concat(id, "', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  ").trim();
};

exports.genHotReloadCode = function (id, functional, templateRequest) {
  return "\n/* hot reload */\nif (module.hot) {\n  var api = require(".concat(hotReloadAPIPath, ")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('").concat(id, "')) {\n      api.createRecord('").concat(id, "', component.options)\n    } else {\n      api.").concat(functional ? 'rerender' : 'reload', "('").concat(id, "', component.options)\n    }\n    ").concat(templateRequest ? genTemplateHotReloadCode(id, templateRequest) : '', "\n  }\n}\n  ").trim();
};